<!DOCTYPE html>
<html lang="zh-TW">
    <head>
        <meta charset="utf-8">
        <title>D3 Page Template</title>
        <script type="text/javascript" src="../d3/d3.js"></script>
		<script src="http://d3js.org/topojson.v1.min.js"></script>
    </head>
    <body>		
		<svg width="800px" height="600px" viewBox="0 0 800 600"></svg>
		<script type="text/javascript"</script>
		<script>
			d3.json("county.json", function(topodata) {
				var features = topojson.feature(topodata, topodata.objects["county"]).features;
			// 這裡要注意的是 topodata.objects["county"] 中的 "county" 為原本 shp 的檔名
			var path = d3.geo
				.path()
				.projection( // 路徑產生器
					d3.geo.mercator().center([121,24]).scale(6000) // 座標變換函式
				);
			d3.select("svg")
				.selectAll("path")
				.data(features)
				.enter()
				.append("path")
				.attr("d",path);
		</script>
    </body>
</html>